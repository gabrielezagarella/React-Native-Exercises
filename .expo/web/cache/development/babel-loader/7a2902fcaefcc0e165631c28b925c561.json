{"ast":null,"code":"import { useCallback, useRef } from 'react';\nexport default function useRefEffect(effect) {\n  var cleanupRef = useRef(undefined);\n  return useCallback(function (instance) {\n    if (cleanupRef.current) {\n      cleanupRef.current();\n      cleanupRef.current = undefined;\n    }\n\n    if (instance != null) {\n      cleanupRef.current = effect(instance);\n    }\n  }, [effect]);\n}","map":{"version":3,"names":["useCallback","useRef","useRefEffect","effect","cleanupRef","undefined","instance","current"],"sources":["/Users/zagarellagabriele/Desktop/Progetti/React Native/React-Native-Exercises/node_modules/react-native/Libraries/Utilities/useRefEffect.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow strict\n * @format\n */\n\nimport {useCallback, useRef} from 'react';\n\ntype CallbackRef<T> = T => mixed;\n\n/**\n * Constructs a callback ref that provides similar semantics as `useEffect`. The\n * supplied `effect` callback will be called with non-null component instances.\n * The `effect` callback can also optionally return a cleanup function.\n *\n * When a component is updated or unmounted, the cleanup function is called. The\n * `effect` callback will then be called again, if applicable.\n *\n * When a new `effect` callback is supplied, the previously returned cleanup\n * function will be called before the new `effect` callback is called with the\n * same instance.\n *\n * WARNING: The `effect` callback should be stable (e.g. using `useCallback`).\n */\nexport default function useRefEffect<TInstance>(\n  effect: TInstance => (() => void) | void,\n): CallbackRef<TInstance | null> {\n  const cleanupRef = useRef<(() => void) | void>(undefined);\n  return useCallback(\n    (instance: null | TInstance) => {\n      if (cleanupRef.current) {\n        cleanupRef.current();\n        cleanupRef.current = undefined;\n      }\n      if (instance != null) {\n        cleanupRef.current = effect(instance);\n      }\n    },\n    [effect],\n  );\n}\n"],"mappings":"AAUA,SAAQA,WAAR,EAAqBC,MAArB,QAAkC,OAAlC;AAkBA,eAAe,SAASC,YAAT,CACbC,MADa,EAEkB;EAC/B,IAAMC,UAAU,GAAGH,MAAM,CAAsBI,SAAtB,CAAzB;EACA,OAAOL,WAAW,CAChB,UAACM,QAAD,EAAgC;IAC9B,IAAIF,UAAU,CAACG,OAAf,EAAwB;MACtBH,UAAU,CAACG,OAAX;MACAH,UAAU,CAACG,OAAX,GAAqBF,SAArB;IACD;;IACD,IAAIC,QAAQ,IAAI,IAAhB,EAAsB;MACpBF,UAAU,CAACG,OAAX,GAAqBJ,MAAM,CAACG,QAAD,CAA3B;IACD;EACF,CATe,EAUhB,CAACH,MAAD,CAVgB,CAAlB;AAYD"},"metadata":{},"sourceType":"module"}