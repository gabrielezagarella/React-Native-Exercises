{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport getDevServer from \"../Core/Devtools/getDevServer\";\nimport LogBox from \"../LogBox/LogBox\";\nimport NativeRedBox from \"../NativeModules/specs/NativeRedBox\";\n\nvar DevSettings = require(\"./DevSettings\");\n\nvar Platform = require(\"./Platform\");\n\nvar invariant = require('invariant');\n\nvar MetroHMRClient = require('metro-runtime/src/modules/HMRClient');\n\nvar prettyFormat = require('pretty-format');\n\nvar pendingEntryPoints = [];\nvar hmrClient = null;\nvar hmrUnavailableReason = null;\nvar currentCompileErrorMessage = null;\nvar didConnect = false;\nvar pendingLogs = [];\nvar HMRClient = {\n  enable: function enable() {\n    if (hmrUnavailableReason !== null) {\n      throw new Error(hmrUnavailableReason);\n    }\n\n    invariant(hmrClient, 'Expected HMRClient.setup() call at startup.');\n\n    var LoadingView = require(\"./LoadingView\");\n\n    hmrClient.send(JSON.stringify({\n      type: 'log-opt-in'\n    }));\n    var hasUpdates = hmrClient.hasPendingUpdates();\n\n    if (hasUpdates) {\n      LoadingView.showMessage('Refreshing...', 'refresh');\n    }\n\n    try {\n      hmrClient.enable();\n    } finally {\n      if (hasUpdates) {\n        LoadingView.hide();\n      }\n    }\n\n    showCompileError();\n  },\n  disable: function disable() {\n    invariant(hmrClient, 'Expected HMRClient.setup() call at startup.');\n    hmrClient.disable();\n  },\n  registerBundle: function registerBundle(requestUrl) {\n    invariant(hmrClient, 'Expected HMRClient.setup() call at startup.');\n    pendingEntryPoints.push(requestUrl);\n    registerBundleEntryPoints(hmrClient);\n  },\n  log: function log(level, data) {\n    if (!hmrClient) {\n      pendingLogs.push([level, data]);\n\n      if (pendingLogs.length > 100) {\n        pendingLogs.shift();\n      }\n\n      return;\n    }\n\n    try {\n      hmrClient.send(JSON.stringify({\n        type: 'log',\n        level: level,\n        mode: global.RN$Bridgeless === true ? 'NOBRIDGE' : 'BRIDGE',\n        data: data.map(function (item) {\n          return typeof item === 'string' ? item : prettyFormat(item, {\n            escapeString: true,\n            highlight: true,\n            maxDepth: 3,\n            min: true,\n            plugins: [prettyFormat.plugins.ReactElement]\n          });\n        })\n      }));\n    } catch (error) {}\n  },\n  setup: function setup(platform, bundleEntry, host, port, isEnabled) {\n    var scheme = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 'http';\n    invariant(platform, 'Missing required parameter `platform`');\n    invariant(bundleEntry, 'Missing required parameter `bundleEntry`');\n    invariant(host, 'Missing required parameter `host`');\n    invariant(!hmrClient, 'Cannot initialize hmrClient twice');\n\n    var LoadingView = require(\"./LoadingView\");\n\n    var serverHost = port !== null && port !== '' ? host + \":\" + port : host;\n    var serverScheme = scheme;\n    var client = new MetroHMRClient(serverScheme + \"://\" + serverHost + \"/hot\");\n    hmrClient = client;\n\n    var _getDevServer = getDevServer(),\n        fullBundleUrl = _getDevServer.fullBundleUrl;\n\n    pendingEntryPoints.push(fullBundleUrl != null ? fullBundleUrl : serverScheme + \"://\" + serverHost + \"/hot?bundleEntry=\" + bundleEntry + \"&platform=\" + platform);\n    client.on('connection-error', function (e) {\n      var error = \"Cannot connect to Metro.\\n\\nTry the following to fix the issue:\\n- Ensure that Metro is running and available on the same network\";\n\n      if (Platform.OS === 'ios') {\n        error += \"\\n- Ensure that the Metro URL is correctly set in AppDelegate\";\n      } else {\n        error += \"\\n- Ensure that your device/emulator is connected to your machine and has USB debugging enabled - run 'adb devices' to see a list of connected devices\\n- If you're on a physical device connected to the same machine, run 'adb reverse tcp:8081 tcp:8081' to forward requests from your device\\n- If your device is on the same Wi-Fi network, set 'Debug server host & port for device' in 'Dev settings' to your machine's IP address and the port of the local dev server - e.g. 10.0.1.1:8081\";\n      }\n\n      error += \"\\n\\nURL: \" + host + \":\" + port + \"\\n\\nError: \" + e.message;\n      setHMRUnavailableReason(error);\n    });\n    client.on('update-start', function (_ref) {\n      var isInitialUpdate = _ref.isInitialUpdate;\n      currentCompileErrorMessage = null;\n      didConnect = true;\n\n      if (client.isEnabled() && !isInitialUpdate) {\n        LoadingView.showMessage('Refreshing...', 'refresh');\n      }\n    });\n    client.on('update', function (_ref2) {\n      var isInitialUpdate = _ref2.isInitialUpdate;\n\n      if (client.isEnabled() && !isInitialUpdate) {\n        dismissRedbox();\n        LogBox.clearAllLogs();\n      }\n    });\n    client.on('update-done', function () {\n      LoadingView.hide();\n    });\n    client.on('error', function (data) {\n      LoadingView.hide();\n\n      if (data.type === 'GraphNotFoundError') {\n        client.close();\n        setHMRUnavailableReason('Metro has restarted since the last edit. Reload to reconnect.');\n      } else if (data.type === 'RevisionNotFoundError') {\n        client.close();\n        setHMRUnavailableReason('Metro and the client are out of sync. Reload to reconnect.');\n      } else {\n        currentCompileErrorMessage = data.type + \" \" + data.message;\n\n        if (client.isEnabled()) {\n          showCompileError();\n        }\n      }\n    });\n    client.on('close', function (closeEvent) {\n      LoadingView.hide();\n      var isNormalOrUnsetCloseReason = closeEvent.code === 1000 || closeEvent.code === 1005 || closeEvent.code == null;\n\n      if (isNormalOrUnsetCloseReason) {\n        setHMRUnavailableReason('Disconnected from Metro.');\n      } else {\n        setHMRUnavailableReason(\"Disconnected from Metro (\" + closeEvent.code + \": \\\"\" + closeEvent.reason + \"\\\").\");\n      }\n    });\n\n    if (isEnabled) {\n      HMRClient.enable();\n    } else {\n      HMRClient.disable();\n    }\n\n    registerBundleEntryPoints(hmrClient);\n    flushEarlyLogs(hmrClient);\n  }\n};\n\nfunction setHMRUnavailableReason(reason) {\n  invariant(hmrClient, 'Expected HMRClient.setup() call at startup.');\n\n  if (hmrUnavailableReason !== null) {\n    return;\n  }\n\n  hmrUnavailableReason = reason;\n\n  if (hmrClient.isEnabled() && didConnect) {\n    console.warn(reason);\n  }\n}\n\nfunction registerBundleEntryPoints(client) {\n  if (hmrUnavailableReason != null) {\n    DevSettings.reload('Bundle Splitting â€“ Metro disconnected');\n    return;\n  }\n\n  if (pendingEntryPoints.length > 0) {\n    client.send(JSON.stringify({\n      type: 'register-entrypoints',\n      entryPoints: pendingEntryPoints\n    }));\n    pendingEntryPoints.length = 0;\n  }\n}\n\nfunction flushEarlyLogs(client) {\n  try {\n    pendingLogs.forEach(function (_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2),\n          level = _ref4[0],\n          data = _ref4[1];\n\n      HMRClient.log(level, data);\n    });\n  } finally {\n    pendingLogs.length = 0;\n  }\n}\n\nfunction dismissRedbox() {\n  if (Platform.OS === 'ios' && NativeRedBox != null && NativeRedBox.dismiss != null) {\n    NativeRedBox.dismiss();\n  } else {\n    var NativeExceptionsManager = require(\"../Core/NativeExceptionsManager\").default;\n\n    NativeExceptionsManager && NativeExceptionsManager.dismissRedbox && NativeExceptionsManager.dismissRedbox();\n  }\n}\n\nfunction showCompileError() {\n  if (currentCompileErrorMessage === null) {\n    return;\n  }\n\n  dismissRedbox();\n  var message = currentCompileErrorMessage;\n  currentCompileErrorMessage = null;\n  var error = new Error(message);\n  error.preventSymbolication = true;\n  throw error;\n}\n\nmodule.exports = HMRClient;","map":{"version":3,"names":["getDevServer","LogBox","NativeRedBox","DevSettings","require","Platform","invariant","MetroHMRClient","prettyFormat","pendingEntryPoints","hmrClient","hmrUnavailableReason","currentCompileErrorMessage","didConnect","pendingLogs","HMRClient","enable","Error","LoadingView","send","JSON","stringify","type","hasUpdates","hasPendingUpdates","showMessage","hide","showCompileError","disable","registerBundle","requestUrl","push","registerBundleEntryPoints","log","level","data","length","shift","mode","global","RN$Bridgeless","map","item","escapeString","highlight","maxDepth","min","plugins","ReactElement","error","setup","platform","bundleEntry","host","port","isEnabled","scheme","serverHost","serverScheme","client","fullBundleUrl","on","e","OS","message","setHMRUnavailableReason","isInitialUpdate","dismissRedbox","clearAllLogs","close","closeEvent","isNormalOrUnsetCloseReason","code","reason","flushEarlyLogs","console","warn","reload","entryPoints","forEach","dismiss","NativeExceptionsManager","default","preventSymbolication","module","exports"],"sources":["/Users/zagarellagabriele/Desktop/Progetti/React Native/React-Native-Exercises/node_modules/react-native/Libraries/Utilities/HMRClient.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * @flow strict-local\n */\n\nimport type {ExtendedError} from '../Core/ExtendedError';\n\nimport getDevServer from '../Core/Devtools/getDevServer';\nimport LogBox from '../LogBox/LogBox';\nimport NativeRedBox from '../NativeModules/specs/NativeRedBox';\n\nconst DevSettings = require('./DevSettings');\nconst Platform = require('./Platform');\nconst invariant = require('invariant');\nconst MetroHMRClient = require('metro-runtime/src/modules/HMRClient');\nconst prettyFormat = require('pretty-format');\n\nconst pendingEntryPoints = [];\nlet hmrClient = null;\nlet hmrUnavailableReason: string | null = null;\nlet currentCompileErrorMessage: string | null = null;\nlet didConnect: boolean = false;\nlet pendingLogs: Array<[LogLevel, Array<mixed>]> = [];\n\ntype LogLevel =\n  | 'trace'\n  | 'info'\n  | 'warn'\n  | 'error'\n  | 'log'\n  | 'group'\n  | 'groupCollapsed'\n  | 'groupEnd'\n  | 'debug';\n\nexport type HMRClientNativeInterface = {|\n  enable(): void,\n  disable(): void,\n  registerBundle(requestUrl: string): void,\n  log(level: LogLevel, data: Array<mixed>): void,\n  setup(\n    platform: string,\n    bundleEntry: string,\n    host: string,\n    port: number | string,\n    isEnabled: boolean,\n    scheme?: string,\n  ): void,\n|};\n\n/**\n * HMR Client that receives from the server HMR updates and propagates them\n * runtime to reflects those changes.\n */\nconst HMRClient: HMRClientNativeInterface = {\n  enable() {\n    if (hmrUnavailableReason !== null) {\n      // If HMR became unavailable while you weren't using it,\n      // explain why when you try to turn it on.\n      // This is an error (and not a warning) because it is shown\n      // in response to a direct user action.\n      throw new Error(hmrUnavailableReason);\n    }\n\n    invariant(hmrClient, 'Expected HMRClient.setup() call at startup.');\n    const LoadingView = require('./LoadingView');\n\n    // We use this for internal logging only.\n    // It doesn't affect the logic.\n    hmrClient.send(JSON.stringify({type: 'log-opt-in'}));\n\n    // When toggling Fast Refresh on, we might already have some stashed updates.\n    // Since they'll get applied now, we'll show a banner.\n    const hasUpdates = hmrClient.hasPendingUpdates();\n\n    if (hasUpdates) {\n      LoadingView.showMessage('Refreshing...', 'refresh');\n    }\n    try {\n      hmrClient.enable();\n    } finally {\n      if (hasUpdates) {\n        LoadingView.hide();\n      }\n    }\n\n    // There could be a compile error while Fast Refresh was off,\n    // but we ignored it at the time. Show it now.\n    showCompileError();\n  },\n\n  disable() {\n    invariant(hmrClient, 'Expected HMRClient.setup() call at startup.');\n    hmrClient.disable();\n  },\n\n  registerBundle(requestUrl: string) {\n    invariant(hmrClient, 'Expected HMRClient.setup() call at startup.');\n    pendingEntryPoints.push(requestUrl);\n    registerBundleEntryPoints(hmrClient);\n  },\n\n  log(level: LogLevel, data: Array<mixed>) {\n    if (!hmrClient) {\n      // Catch a reasonable number of early logs\n      // in case hmrClient gets initialized later.\n      pendingLogs.push([level, data]);\n      if (pendingLogs.length > 100) {\n        pendingLogs.shift();\n      }\n      return;\n    }\n    try {\n      hmrClient.send(\n        JSON.stringify({\n          type: 'log',\n          level,\n          mode: global.RN$Bridgeless === true ? 'NOBRIDGE' : 'BRIDGE',\n          data: data.map(item =>\n            typeof item === 'string'\n              ? item\n              : prettyFormat(item, {\n                  escapeString: true,\n                  highlight: true,\n                  maxDepth: 3,\n                  min: true,\n                  plugins: [prettyFormat.plugins.ReactElement],\n                }),\n          ),\n        }),\n      );\n    } catch (error) {\n      // If sending logs causes any failures we want to silently ignore them\n      // to ensure we do not cause infinite-logging loops.\n    }\n  },\n\n  // Called once by the bridge on startup, even if Fast Refresh is off.\n  // It creates the HMR client but doesn't actually set up the socket yet.\n  setup(\n    platform: string,\n    bundleEntry: string,\n    host: string,\n    port: number | string,\n    isEnabled: boolean,\n    scheme?: string = 'http',\n  ) {\n    invariant(platform, 'Missing required parameter `platform`');\n    invariant(bundleEntry, 'Missing required parameter `bundleEntry`');\n    invariant(host, 'Missing required parameter `host`');\n    invariant(!hmrClient, 'Cannot initialize hmrClient twice');\n\n    // Moving to top gives errors due to NativeModules not being initialized\n    const LoadingView = require('./LoadingView');\n\n    const serverHost = port !== null && port !== '' ? `${host}:${port}` : host;\n\n    const serverScheme = scheme;\n\n    const client = new MetroHMRClient(`${serverScheme}://${serverHost}/hot`);\n\n    hmrClient = client;\n\n    const {fullBundleUrl} = getDevServer();\n    pendingEntryPoints.push(\n      // HMRServer understands regular bundle URLs, so prefer that in case\n      // there are any important URL parameters we can't reconstruct from\n      // `setup()`'s arguments.\n      fullBundleUrl ??\n        `${serverScheme}://${serverHost}/hot?bundleEntry=${bundleEntry}&platform=${platform}`,\n    );\n\n    client.on('connection-error', e => {\n      let error = `Cannot connect to Metro.\n\nTry the following to fix the issue:\n- Ensure that Metro is running and available on the same network`;\n\n      if (Platform.OS === 'ios') {\n        error += `\n- Ensure that the Metro URL is correctly set in AppDelegate`;\n      } else {\n        error += `\n- Ensure that your device/emulator is connected to your machine and has USB debugging enabled - run 'adb devices' to see a list of connected devices\n- If you're on a physical device connected to the same machine, run 'adb reverse tcp:8081 tcp:8081' to forward requests from your device\n- If your device is on the same Wi-Fi network, set 'Debug server host & port for device' in 'Dev settings' to your machine's IP address and the port of the local dev server - e.g. 10.0.1.1:8081`;\n      }\n\n      error += `\n\nURL: ${host}:${port}\n\nError: ${e.message}`;\n\n      setHMRUnavailableReason(error);\n    });\n\n    client.on('update-start', ({isInitialUpdate}) => {\n      currentCompileErrorMessage = null;\n      didConnect = true;\n\n      if (client.isEnabled() && !isInitialUpdate) {\n        LoadingView.showMessage('Refreshing...', 'refresh');\n      }\n    });\n\n    client.on('update', ({isInitialUpdate}) => {\n      if (client.isEnabled() && !isInitialUpdate) {\n        dismissRedbox();\n        LogBox.clearAllLogs();\n      }\n    });\n\n    client.on('update-done', () => {\n      LoadingView.hide();\n    });\n\n    client.on('error', data => {\n      LoadingView.hide();\n\n      if (data.type === 'GraphNotFoundError') {\n        client.close();\n        setHMRUnavailableReason(\n          'Metro has restarted since the last edit. Reload to reconnect.',\n        );\n      } else if (data.type === 'RevisionNotFoundError') {\n        client.close();\n        setHMRUnavailableReason(\n          'Metro and the client are out of sync. Reload to reconnect.',\n        );\n      } else {\n        currentCompileErrorMessage = `${data.type} ${data.message}`;\n        if (client.isEnabled()) {\n          showCompileError();\n        }\n      }\n    });\n\n    client.on('close', closeEvent => {\n      LoadingView.hide();\n\n      // https://www.rfc-editor.org/rfc/rfc6455.html#section-7.4.1\n      // https://www.rfc-editor.org/rfc/rfc6455.html#section-7.1.5\n      const isNormalOrUnsetCloseReason =\n        closeEvent.code === 1000 ||\n        closeEvent.code === 1005 ||\n        closeEvent.code == null;\n\n      if (isNormalOrUnsetCloseReason) {\n        setHMRUnavailableReason('Disconnected from Metro.');\n      } else {\n        setHMRUnavailableReason(\n          `Disconnected from Metro (${closeEvent.code}: \"${closeEvent.reason}\").`,\n        );\n      }\n    });\n\n    if (isEnabled) {\n      HMRClient.enable();\n    } else {\n      HMRClient.disable();\n    }\n\n    registerBundleEntryPoints(hmrClient);\n    flushEarlyLogs(hmrClient);\n  },\n};\n\nfunction setHMRUnavailableReason(reason: string) {\n  invariant(hmrClient, 'Expected HMRClient.setup() call at startup.');\n  if (hmrUnavailableReason !== null) {\n    // Don't show more than one warning.\n    return;\n  }\n  hmrUnavailableReason = reason;\n\n  // We only want to show a warning if Fast Refresh is on *and* if we ever\n  // previously managed to connect successfully. We don't want to show\n  // the warning to native engineers who use cached bundles without Metro.\n  if (hmrClient.isEnabled() && didConnect) {\n    console.warn(reason);\n    // (Not using the `warning` module to prevent a Buck cycle.)\n  }\n}\n\nfunction registerBundleEntryPoints(client: MetroHMRClient) {\n  if (hmrUnavailableReason != null) {\n    DevSettings.reload('Bundle Splitting â€“ Metro disconnected');\n    return;\n  }\n\n  if (pendingEntryPoints.length > 0) {\n    client.send(\n      JSON.stringify({\n        type: 'register-entrypoints',\n        entryPoints: pendingEntryPoints,\n      }),\n    );\n    pendingEntryPoints.length = 0;\n  }\n}\n\nfunction flushEarlyLogs(client: MetroHMRClient) {\n  try {\n    pendingLogs.forEach(([level, data]) => {\n      HMRClient.log(level, data);\n    });\n  } finally {\n    pendingLogs.length = 0;\n  }\n}\n\nfunction dismissRedbox() {\n  if (\n    Platform.OS === 'ios' &&\n    NativeRedBox != null &&\n    NativeRedBox.dismiss != null\n  ) {\n    NativeRedBox.dismiss();\n  } else {\n    const NativeExceptionsManager =\n      require('../Core/NativeExceptionsManager').default;\n    NativeExceptionsManager &&\n      NativeExceptionsManager.dismissRedbox &&\n      NativeExceptionsManager.dismissRedbox();\n  }\n}\n\nfunction showCompileError() {\n  if (currentCompileErrorMessage === null) {\n    return;\n  }\n\n  // Even if there is already a redbox, syntax errors are more important.\n  // Otherwise you risk seeing a stale runtime error while a syntax error is more recent.\n  dismissRedbox();\n\n  const message = currentCompileErrorMessage;\n  currentCompileErrorMessage = null;\n\n  /* $FlowFixMe[class-object-subtyping] added when improving typing for this\n   * parameters */\n  const error: ExtendedError = new Error(message);\n  // Symbolicating compile errors is wasted effort\n  // because the stack trace is meaningless:\n  error.preventSymbolication = true;\n  throw error;\n}\n\nmodule.exports = HMRClient;\n"],"mappings":";AAYA,OAAOA,YAAP;AACA,OAAOC,MAAP;AACA,OAAOC,YAAP;;AAEA,IAAMC,WAAW,GAAGC,OAAO,iBAA3B;;AACA,IAAMC,QAAQ,GAAGD,OAAO,cAAxB;;AACA,IAAME,SAAS,GAAGF,OAAO,CAAC,WAAD,CAAzB;;AACA,IAAMG,cAAc,GAAGH,OAAO,CAAC,qCAAD,CAA9B;;AACA,IAAMI,YAAY,GAAGJ,OAAO,CAAC,eAAD,CAA5B;;AAEA,IAAMK,kBAAkB,GAAG,EAA3B;AACA,IAAIC,SAAS,GAAG,IAAhB;AACA,IAAIC,oBAAmC,GAAG,IAA1C;AACA,IAAIC,0BAAyC,GAAG,IAAhD;AACA,IAAIC,UAAmB,GAAG,KAA1B;AACA,IAAIC,WAA4C,GAAG,EAAnD;AAgCA,IAAMC,SAAmC,GAAG;EAC1CC,MAD0C,oBACjC;IACP,IAAIL,oBAAoB,KAAK,IAA7B,EAAmC;MAKjC,MAAM,IAAIM,KAAJ,CAAUN,oBAAV,CAAN;IACD;;IAEDL,SAAS,CAACI,SAAD,EAAY,6CAAZ,CAAT;;IACA,IAAMQ,WAAW,GAAGd,OAAO,iBAA3B;;IAIAM,SAAS,CAACS,IAAV,CAAeC,IAAI,CAACC,SAAL,CAAe;MAACC,IAAI,EAAE;IAAP,CAAf,CAAf;IAIA,IAAMC,UAAU,GAAGb,SAAS,CAACc,iBAAV,EAAnB;;IAEA,IAAID,UAAJ,EAAgB;MACdL,WAAW,CAACO,WAAZ,CAAwB,eAAxB,EAAyC,SAAzC;IACD;;IACD,IAAI;MACFf,SAAS,CAACM,MAAV;IACD,CAFD,SAEU;MACR,IAAIO,UAAJ,EAAgB;QACdL,WAAW,CAACQ,IAAZ;MACD;IACF;;IAIDC,gBAAgB;EACjB,CAnCyC;EAqC1CC,OArC0C,qBAqChC;IACRtB,SAAS,CAACI,SAAD,EAAY,6CAAZ,CAAT;IACAA,SAAS,CAACkB,OAAV;EACD,CAxCyC;EA0C1CC,cA1C0C,0BA0C3BC,UA1C2B,EA0CP;IACjCxB,SAAS,CAACI,SAAD,EAAY,6CAAZ,CAAT;IACAD,kBAAkB,CAACsB,IAAnB,CAAwBD,UAAxB;IACAE,yBAAyB,CAACtB,SAAD,CAAzB;EACD,CA9CyC;EAgD1CuB,GAhD0C,eAgDtCC,KAhDsC,EAgDrBC,IAhDqB,EAgDD;IACvC,IAAI,CAACzB,SAAL,EAAgB;MAGdI,WAAW,CAACiB,IAAZ,CAAiB,CAACG,KAAD,EAAQC,IAAR,CAAjB;;MACA,IAAIrB,WAAW,CAACsB,MAAZ,GAAqB,GAAzB,EAA8B;QAC5BtB,WAAW,CAACuB,KAAZ;MACD;;MACD;IACD;;IACD,IAAI;MACF3B,SAAS,CAACS,IAAV,CACEC,IAAI,CAACC,SAAL,CAAe;QACbC,IAAI,EAAE,KADO;QAEbY,KAAK,EAALA,KAFa;QAGbI,IAAI,EAAEC,MAAM,CAACC,aAAP,KAAyB,IAAzB,GAAgC,UAAhC,GAA6C,QAHtC;QAIbL,IAAI,EAAEA,IAAI,CAACM,GAAL,CAAS,UAAAC,IAAI;UAAA,OACjB,OAAOA,IAAP,KAAgB,QAAhB,GACIA,IADJ,GAEIlC,YAAY,CAACkC,IAAD,EAAO;YACjBC,YAAY,EAAE,IADG;YAEjBC,SAAS,EAAE,IAFM;YAGjBC,QAAQ,EAAE,CAHO;YAIjBC,GAAG,EAAE,IAJY;YAKjBC,OAAO,EAAE,CAACvC,YAAY,CAACuC,OAAb,CAAqBC,YAAtB;UALQ,CAAP,CAHC;QAAA,CAAb;MAJO,CAAf,CADF;IAkBD,CAnBD,CAmBE,OAAOC,KAAP,EAAc,CAGf;EACF,CAjFyC;EAqF1CC,KArF0C,iBAsFxCC,QAtFwC,EAuFxCC,WAvFwC,EAwFxCC,IAxFwC,EAyFxCC,IAzFwC,EA0FxCC,SA1FwC,EA4FxC;IAAA,IADAC,MACA,uEADkB,MAClB;IACAlD,SAAS,CAAC6C,QAAD,EAAW,uCAAX,CAAT;IACA7C,SAAS,CAAC8C,WAAD,EAAc,0CAAd,CAAT;IACA9C,SAAS,CAAC+C,IAAD,EAAO,mCAAP,CAAT;IACA/C,SAAS,CAAC,CAACI,SAAF,EAAa,mCAAb,CAAT;;IAGA,IAAMQ,WAAW,GAAGd,OAAO,iBAA3B;;IAEA,IAAMqD,UAAU,GAAGH,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAK,EAA1B,GAAkCD,IAAlC,SAA0CC,IAA1C,GAAmDD,IAAtE;IAEA,IAAMK,YAAY,GAAGF,MAArB;IAEA,IAAMG,MAAM,GAAG,IAAIpD,cAAJ,CAAsBmD,YAAtB,WAAwCD,UAAxC,UAAf;IAEA/C,SAAS,GAAGiD,MAAZ;;IAEA,oBAAwB3D,YAAY,EAApC;IAAA,IAAO4D,aAAP,iBAAOA,aAAP;;IACAnD,kBAAkB,CAACsB,IAAnB,CAIE6B,aAJF,WAIEA,aAJF,GAKOF,YALP,WAKyBD,UALzB,yBAKuDL,WALvD,kBAK+ED,QAL/E;IAQAQ,MAAM,CAACE,EAAP,CAAU,kBAAV,EAA8B,UAAAC,CAAC,EAAI;MACjC,IAAIb,KAAK,sIAAT;;MAKA,IAAI5C,QAAQ,CAAC0D,EAAT,KAAgB,KAApB,EAA2B;QACzBd,KAAK,mEAAL;MAED,CAHD,MAGO;QACLA,KAAK,yeAAL;MAID;;MAEDA,KAAK,kBAEJI,IAFI,SAEIC,IAFJ,mBAIFQ,CAAC,CAACE,OAJL;MAMAC,uBAAuB,CAAChB,KAAD,CAAvB;IACD,CAvBD;IAyBAU,MAAM,CAACE,EAAP,CAAU,cAAV,EAA0B,gBAAuB;MAAA,IAArBK,eAAqB,QAArBA,eAAqB;MAC/CtD,0BAA0B,GAAG,IAA7B;MACAC,UAAU,GAAG,IAAb;;MAEA,IAAI8C,MAAM,CAACJ,SAAP,MAAsB,CAACW,eAA3B,EAA4C;QAC1ChD,WAAW,CAACO,WAAZ,CAAwB,eAAxB,EAAyC,SAAzC;MACD;IACF,CAPD;IASAkC,MAAM,CAACE,EAAP,CAAU,QAAV,EAAoB,iBAAuB;MAAA,IAArBK,eAAqB,SAArBA,eAAqB;;MACzC,IAAIP,MAAM,CAACJ,SAAP,MAAsB,CAACW,eAA3B,EAA4C;QAC1CC,aAAa;QACblE,MAAM,CAACmE,YAAP;MACD;IACF,CALD;IAOAT,MAAM,CAACE,EAAP,CAAU,aAAV,EAAyB,YAAM;MAC7B3C,WAAW,CAACQ,IAAZ;IACD,CAFD;IAIAiC,MAAM,CAACE,EAAP,CAAU,OAAV,EAAmB,UAAA1B,IAAI,EAAI;MACzBjB,WAAW,CAACQ,IAAZ;;MAEA,IAAIS,IAAI,CAACb,IAAL,KAAc,oBAAlB,EAAwC;QACtCqC,MAAM,CAACU,KAAP;QACAJ,uBAAuB,CACrB,+DADqB,CAAvB;MAGD,CALD,MAKO,IAAI9B,IAAI,CAACb,IAAL,KAAc,uBAAlB,EAA2C;QAChDqC,MAAM,CAACU,KAAP;QACAJ,uBAAuB,CACrB,4DADqB,CAAvB;MAGD,CALM,MAKA;QACLrD,0BAA0B,GAAMuB,IAAI,CAACb,IAAX,SAAmBa,IAAI,CAAC6B,OAAlD;;QACA,IAAIL,MAAM,CAACJ,SAAP,EAAJ,EAAwB;UACtB5B,gBAAgB;QACjB;MACF;IACF,CAnBD;IAqBAgC,MAAM,CAACE,EAAP,CAAU,OAAV,EAAmB,UAAAS,UAAU,EAAI;MAC/BpD,WAAW,CAACQ,IAAZ;MAIA,IAAM6C,0BAA0B,GAC9BD,UAAU,CAACE,IAAX,KAAoB,IAApB,IACAF,UAAU,CAACE,IAAX,KAAoB,IADpB,IAEAF,UAAU,CAACE,IAAX,IAAmB,IAHrB;;MAKA,IAAID,0BAAJ,EAAgC;QAC9BN,uBAAuB,CAAC,0BAAD,CAAvB;MACD,CAFD,MAEO;QACLA,uBAAuB,+BACOK,UAAU,CAACE,IADlB,YAC4BF,UAAU,CAACG,MADvC,UAAvB;MAGD;IACF,CAjBD;;IAmBA,IAAIlB,SAAJ,EAAe;MACbxC,SAAS,CAACC,MAAV;IACD,CAFD,MAEO;MACLD,SAAS,CAACa,OAAV;IACD;;IAEDI,yBAAyB,CAACtB,SAAD,CAAzB;IACAgE,cAAc,CAAChE,SAAD,CAAd;EACD;AAnNyC,CAA5C;;AAsNA,SAASuD,uBAAT,CAAiCQ,MAAjC,EAAiD;EAC/CnE,SAAS,CAACI,SAAD,EAAY,6CAAZ,CAAT;;EACA,IAAIC,oBAAoB,KAAK,IAA7B,EAAmC;IAEjC;EACD;;EACDA,oBAAoB,GAAG8D,MAAvB;;EAKA,IAAI/D,SAAS,CAAC6C,SAAV,MAAyB1C,UAA7B,EAAyC;IACvC8D,OAAO,CAACC,IAAR,CAAaH,MAAb;EAED;AACF;;AAED,SAASzC,yBAAT,CAAmC2B,MAAnC,EAA2D;EACzD,IAAIhD,oBAAoB,IAAI,IAA5B,EAAkC;IAChCR,WAAW,CAAC0E,MAAZ,CAAmB,uCAAnB;IACA;EACD;;EAED,IAAIpE,kBAAkB,CAAC2B,MAAnB,GAA4B,CAAhC,EAAmC;IACjCuB,MAAM,CAACxC,IAAP,CACEC,IAAI,CAACC,SAAL,CAAe;MACbC,IAAI,EAAE,sBADO;MAEbwD,WAAW,EAAErE;IAFA,CAAf,CADF;IAMAA,kBAAkB,CAAC2B,MAAnB,GAA4B,CAA5B;EACD;AACF;;AAED,SAASsC,cAAT,CAAwBf,MAAxB,EAAgD;EAC9C,IAAI;IACF7C,WAAW,CAACiE,OAAZ,CAAoB,iBAAmB;MAAA;MAAA,IAAjB7C,KAAiB;MAAA,IAAVC,IAAU;;MACrCpB,SAAS,CAACkB,GAAV,CAAcC,KAAd,EAAqBC,IAArB;IACD,CAFD;EAGD,CAJD,SAIU;IACRrB,WAAW,CAACsB,MAAZ,GAAqB,CAArB;EACD;AACF;;AAED,SAAS+B,aAAT,GAAyB;EACvB,IACE9D,QAAQ,CAAC0D,EAAT,KAAgB,KAAhB,IACA7D,YAAY,IAAI,IADhB,IAEAA,YAAY,CAAC8E,OAAb,IAAwB,IAH1B,EAIE;IACA9E,YAAY,CAAC8E,OAAb;EACD,CAND,MAMO;IACL,IAAMC,uBAAuB,GAC3B7E,OAAO,mCAAP,CAA2C8E,OAD7C;;IAEAD,uBAAuB,IACrBA,uBAAuB,CAACd,aAD1B,IAEEc,uBAAuB,CAACd,aAAxB,EAFF;EAGD;AACF;;AAED,SAASxC,gBAAT,GAA4B;EAC1B,IAAIf,0BAA0B,KAAK,IAAnC,EAAyC;IACvC;EACD;;EAIDuD,aAAa;EAEb,IAAMH,OAAO,GAAGpD,0BAAhB;EACAA,0BAA0B,GAAG,IAA7B;EAIA,IAAMqC,KAAoB,GAAG,IAAIhC,KAAJ,CAAU+C,OAAV,CAA7B;EAGAf,KAAK,CAACkC,oBAAN,GAA6B,IAA7B;EACA,MAAMlC,KAAN;AACD;;AAEDmC,MAAM,CAACC,OAAP,GAAiBtE,SAAjB"},"metadata":{},"sourceType":"module"}