{"ast":null,"code":"'use strict';\n\nvar Promise = require(\"./core.js\");\n\nmodule.exports = Promise;\nvar TRUE = valuePromise(true);\nvar FALSE = valuePromise(false);\nvar NULL = valuePromise(null);\nvar UNDEFINED = valuePromise(undefined);\nvar ZERO = valuePromise(0);\nvar EMPTYSTRING = valuePromise('');\n\nfunction valuePromise(value) {\n  var p = new Promise(Promise._D);\n  p._y = 1;\n  p._z = value;\n  return p;\n}\n\nPromise.resolve = function (value) {\n  if (value instanceof Promise) return value;\n  if (value === null) return NULL;\n  if (value === undefined) return UNDEFINED;\n  if (value === true) return TRUE;\n  if (value === false) return FALSE;\n  if (value === 0) return ZERO;\n  if (value === '') return EMPTYSTRING;\n\n  if (typeof value === 'object' || typeof value === 'function') {\n    try {\n      var then = value.then;\n\n      if (typeof then === 'function') {\n        return new Promise(then.bind(value));\n      }\n    } catch (ex) {\n      return new Promise(function (resolve, reject) {\n        reject(ex);\n      });\n    }\n  }\n\n  return valuePromise(value);\n};\n\nvar _iterableToArray = function iterableToArray(iterable) {\n  if (typeof Array.from === 'function') {\n    _iterableToArray = Array.from;\n    return Array.from(iterable);\n  }\n\n  _iterableToArray = function iterableToArray(x) {\n    return Array.prototype.slice.call(x);\n  };\n\n  return Array.prototype.slice.call(iterable);\n};\n\nPromise.all = function (arr) {\n  var args = _iterableToArray(arr);\n\n  return new Promise(function (resolve, reject) {\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n\n    function res(i, val) {\n      if (val && (typeof val === 'object' || typeof val === 'function')) {\n        if (val instanceof Promise && val.then === Promise.prototype.then) {\n          while (val._y === 3) {\n            val = val._z;\n          }\n\n          if (val._y === 1) return res(i, val._z);\n          if (val._y === 2) reject(val._z);\n          val.then(function (val) {\n            res(i, val);\n          }, reject);\n          return;\n        } else {\n          var then = val.then;\n\n          if (typeof then === 'function') {\n            var p = new Promise(then.bind(val));\n            p.then(function (val) {\n              res(i, val);\n            }, reject);\n            return;\n          }\n        }\n      }\n\n      args[i] = val;\n\n      if (--remaining === 0) {\n        resolve(args);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nfunction onSettledFulfill(value) {\n  return {\n    status: 'fulfilled',\n    value: value\n  };\n}\n\nfunction onSettledReject(reason) {\n  return {\n    status: 'rejected',\n    reason: reason\n  };\n}\n\nfunction mapAllSettled(item) {\n  if (item && (typeof item === 'object' || typeof item === 'function')) {\n    if (item instanceof Promise && item.then === Promise.prototype.then) {\n      return item.then(onSettledFulfill, onSettledReject);\n    }\n\n    var then = item.then;\n\n    if (typeof then === 'function') {\n      return new Promise(then.bind(item)).then(onSettledFulfill, onSettledReject);\n    }\n  }\n\n  return onSettledFulfill(item);\n}\n\nPromise.allSettled = function (iterable) {\n  return Promise.all(_iterableToArray(iterable).map(mapAllSettled));\n};\n\nPromise.reject = function (value) {\n  return new Promise(function (resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function (values) {\n  return new Promise(function (resolve, reject) {\n    _iterableToArray(values).forEach(function (value) {\n      Promise.resolve(value).then(resolve, reject);\n    });\n  });\n};\n\nPromise.prototype['catch'] = function (onRejected) {\n  return this.then(null, onRejected);\n};\n\nfunction getAggregateError(errors) {\n  if (typeof AggregateError === 'function') {\n    return new AggregateError(errors, 'All promises were rejected');\n  }\n\n  var error = new Error('All promises were rejected');\n  error.name = 'AggregateError';\n  error.errors = errors;\n  return error;\n}\n\nPromise.any = function promiseAny(values) {\n  return new Promise(function (resolve, reject) {\n    var promises = _iterableToArray(values);\n\n    var hasResolved = false;\n    var rejectionReasons = [];\n\n    function resolveOnce(value) {\n      if (!hasResolved) {\n        hasResolved = true;\n        resolve(value);\n      }\n    }\n\n    function rejectionCheck(reason) {\n      rejectionReasons.push(reason);\n\n      if (rejectionReasons.length === promises.length) {\n        reject(getAggregateError(rejectionReasons));\n      }\n    }\n\n    if (promises.length === 0) {\n      reject(getAggregateError(rejectionReasons));\n    } else {\n      promises.forEach(function (value) {\n        Promise.resolve(value).then(resolveOnce, rejectionCheck);\n      });\n    }\n  });\n};","map":{"version":3,"names":["Promise","require","module","exports","TRUE","valuePromise","FALSE","NULL","UNDEFINED","undefined","ZERO","EMPTYSTRING","value","p","_D","_y","_z","resolve","then","bind","ex","reject","iterableToArray","iterable","Array","from","x","prototype","slice","call","all","arr","args","length","remaining","res","i","val","onSettledFulfill","status","onSettledReject","reason","mapAllSettled","item","allSettled","map","race","values","forEach","onRejected","getAggregateError","errors","AggregateError","error","Error","name","any","promiseAny","promises","hasResolved","rejectionReasons","resolveOnce","rejectionCheck","push"],"sources":["/Users/zagarellagabriele/Desktop/Progetti/React Native/React-Native-Exercises/node_modules/react-native/node_modules/promise/setimmediate/es6-extensions.js"],"sourcesContent":["'use strict';\n\n//This file contains the ES6 extensions to the core Promises/A+ API\n\nvar Promise = require('./core.js');\n\nmodule.exports = Promise;\n\n/* Static Functions */\n\nvar TRUE = valuePromise(true);\nvar FALSE = valuePromise(false);\nvar NULL = valuePromise(null);\nvar UNDEFINED = valuePromise(undefined);\nvar ZERO = valuePromise(0);\nvar EMPTYSTRING = valuePromise('');\n\nfunction valuePromise(value) {\n  var p = new Promise(Promise._D);\n  p._y = 1;\n  p._z = value;\n  return p;\n}\nPromise.resolve = function (value) {\n  if (value instanceof Promise) return value;\n\n  if (value === null) return NULL;\n  if (value === undefined) return UNDEFINED;\n  if (value === true) return TRUE;\n  if (value === false) return FALSE;\n  if (value === 0) return ZERO;\n  if (value === '') return EMPTYSTRING;\n\n  if (typeof value === 'object' || typeof value === 'function') {\n    try {\n      var then = value.then;\n      if (typeof then === 'function') {\n        return new Promise(then.bind(value));\n      }\n    } catch (ex) {\n      return new Promise(function (resolve, reject) {\n        reject(ex);\n      });\n    }\n  }\n  return valuePromise(value);\n};\n\nvar iterableToArray = function (iterable) {\n  if (typeof Array.from === 'function') {\n    // ES2015+, iterables exist\n    iterableToArray = Array.from;\n    return Array.from(iterable);\n  }\n\n  // ES5, only arrays and array-likes exist\n  iterableToArray = function (x) { return Array.prototype.slice.call(x); };\n  return Array.prototype.slice.call(iterable);\n}\n\nPromise.all = function (arr) {\n  var args = iterableToArray(arr);\n\n  return new Promise(function (resolve, reject) {\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n    function res(i, val) {\n      if (val && (typeof val === 'object' || typeof val === 'function')) {\n        if (val instanceof Promise && val.then === Promise.prototype.then) {\n          while (val._y === 3) {\n            val = val._z;\n          }\n          if (val._y === 1) return res(i, val._z);\n          if (val._y === 2) reject(val._z);\n          val.then(function (val) {\n            res(i, val);\n          }, reject);\n          return;\n        } else {\n          var then = val.then;\n          if (typeof then === 'function') {\n            var p = new Promise(then.bind(val));\n            p.then(function (val) {\n              res(i, val);\n            }, reject);\n            return;\n          }\n        }\n      }\n      args[i] = val;\n      if (--remaining === 0) {\n        resolve(args);\n      }\n    }\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nfunction onSettledFulfill(value) {\n  return { status: 'fulfilled', value: value };\n}\nfunction onSettledReject(reason) {\n  return { status: 'rejected', reason: reason };\n}\nfunction mapAllSettled(item) {\n  if(item && (typeof item === 'object' || typeof item === 'function')){\n    if(item instanceof Promise && item.then === Promise.prototype.then){\n      return item.then(onSettledFulfill, onSettledReject);\n    }\n    var then = item.then;\n    if (typeof then === 'function') {\n      return new Promise(then.bind(item)).then(onSettledFulfill, onSettledReject)\n    }\n  }\n\n  return onSettledFulfill(item);\n}\nPromise.allSettled = function (iterable) {\n  return Promise.all(iterableToArray(iterable).map(mapAllSettled));\n};\n\nPromise.reject = function (value) {\n  return new Promise(function (resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function (values) {\n  return new Promise(function (resolve, reject) {\n    iterableToArray(values).forEach(function(value){\n      Promise.resolve(value).then(resolve, reject);\n    });\n  });\n};\n\n/* Prototype Methods */\n\nPromise.prototype['catch'] = function (onRejected) {\n  return this.then(null, onRejected);\n};\n\nfunction getAggregateError(errors){\n  if(typeof AggregateError === 'function'){\n    return new AggregateError(errors,'All promises were rejected');\n  }\n\n  var error = new Error('All promises were rejected');\n\n  error.name = 'AggregateError';\n  error.errors = errors;\n\n  return error;\n}\n\nPromise.any = function promiseAny(values) {\n  return new Promise(function(resolve, reject) {\n    var promises = iterableToArray(values);\n    var hasResolved = false;\n    var rejectionReasons = [];\n\n    function resolveOnce(value) {\n      if (!hasResolved) {\n        hasResolved = true;\n        resolve(value);\n      }\n    }\n\n    function rejectionCheck(reason) {\n      rejectionReasons.push(reason);\n\n      if (rejectionReasons.length === promises.length) {\n        reject(getAggregateError(rejectionReasons));\n      }\n    }\n\n    if(promises.length === 0){\n      reject(getAggregateError(rejectionReasons));\n    } else {\n      promises.forEach(function(value){\n        Promise.resolve(value).then(resolveOnce, rejectionCheck);\n      });\n    }\n  });\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}