{"ast":null,"code":"'use strict';\n\nif (__DEV__) {\n  var isWebSocketOpen = false;\n  var ws = null;\n\n  var reactDevTools = require('react-devtools-core');\n\n  var connectToDevTools = function connectToDevTools() {\n    if (ws !== null && isWebSocketOpen) {\n      return;\n    }\n\n    if (!window.document) {\n      var AppState = require(\"../AppState/AppState\");\n\n      var getDevServer = require(\"./Devtools/getDevServer\");\n\n      var isAppActive = function isAppActive() {\n        return AppState.currentState !== 'background';\n      };\n\n      var devServer = getDevServer();\n      var host = devServer.bundleLoadedFromServer ? devServer.url.replace(/https?:\\/\\//, '').replace(/\\/$/, '').split(':')[0] : 'localhost';\n      var port = window.__REACT_DEVTOOLS_PORT__ != null ? window.__REACT_DEVTOOLS_PORT__ : 8097;\n\n      var WebSocket = require(\"../WebSocket/WebSocket\");\n\n      ws = new WebSocket('ws://' + host + ':' + port);\n      ws.addEventListener('close', function (event) {\n        isWebSocketOpen = false;\n      });\n      ws.addEventListener('open', function (event) {\n        isWebSocketOpen = true;\n      });\n\n      var ReactNativeStyleAttributes = require(\"../Components/View/ReactNativeStyleAttributes\");\n\n      reactDevTools.connectToDevTools({\n        isAppActive: isAppActive,\n        resolveRNStyle: require(\"../StyleSheet/flattenStyle\"),\n        nativeStyleEditorValidAttributes: Object.keys(ReactNativeStyleAttributes),\n        websocket: ws\n      });\n    }\n  };\n\n  var RCTNativeAppEventEmitter = require(\"../EventEmitter/RCTNativeAppEventEmitter\");\n\n  RCTNativeAppEventEmitter.addListener('RCTDevMenuShown', connectToDevTools);\n  connectToDevTools();\n}","map":{"version":3,"names":["__DEV__","isWebSocketOpen","ws","reactDevTools","require","connectToDevTools","window","document","AppState","getDevServer","isAppActive","currentState","devServer","host","bundleLoadedFromServer","url","replace","split","port","__REACT_DEVTOOLS_PORT__","WebSocket","addEventListener","event","ReactNativeStyleAttributes","resolveRNStyle","nativeStyleEditorValidAttributes","Object","keys","websocket","RCTNativeAppEventEmitter","addListener"],"sources":["/Users/zagarellagabriele/Desktop/Progetti/React Native/React-Native-Exercises/node_modules/react-native/Libraries/Core/setUpReactDevTools.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n * @format\n */\n\n'use strict';\n\nif (__DEV__) {\n  let isWebSocketOpen = false;\n  let ws = null;\n\n  const reactDevTools = require('react-devtools-core');\n  const connectToDevTools = () => {\n    if (ws !== null && isWebSocketOpen) {\n      // If the DevTools backend is already connected, don't recreate the WebSocket.\n      // This would break the connection.\n      // If there isn't an active connection, a backend may be waiting to connect,\n      // in which case it's okay to make a new one.\n      return;\n    }\n\n    // not when debugging in chrome\n    // TODO(t12832058) This check is broken\n    if (!window.document) {\n      const AppState = require('../AppState/AppState');\n      const getDevServer = require('./Devtools/getDevServer');\n\n      // Don't steal the DevTools from currently active app.\n      // Note: if you add any AppState subscriptions to this file,\n      // you will also need to guard against `AppState.isAvailable`,\n      // or the code will throw for bundles that don't have it.\n      const isAppActive = () => AppState.currentState !== 'background';\n\n      // Get hostname from development server (packager)\n      const devServer = getDevServer();\n      const host = devServer.bundleLoadedFromServer\n        ? devServer.url\n            .replace(/https?:\\/\\//, '')\n            .replace(/\\/$/, '')\n            .split(':')[0]\n        : 'localhost';\n\n      // Read the optional global variable for backward compatibility.\n      // It was added in https://github.com/facebook/react-native/commit/bf2b435322e89d0aeee8792b1c6e04656c2719a0.\n      const port =\n        window.__REACT_DEVTOOLS_PORT__ != null\n          ? window.__REACT_DEVTOOLS_PORT__\n          : 8097;\n\n      const WebSocket = require('../WebSocket/WebSocket');\n      ws = new WebSocket('ws://' + host + ':' + port);\n      ws.addEventListener('close', event => {\n        isWebSocketOpen = false;\n      });\n      ws.addEventListener('open', event => {\n        isWebSocketOpen = true;\n      });\n\n      const ReactNativeStyleAttributes = require('../Components/View/ReactNativeStyleAttributes');\n\n      reactDevTools.connectToDevTools({\n        isAppActive,\n        resolveRNStyle: require('../StyleSheet/flattenStyle'),\n        nativeStyleEditorValidAttributes: Object.keys(\n          ReactNativeStyleAttributes,\n        ),\n        websocket: ws,\n      });\n    }\n  };\n\n  const RCTNativeAppEventEmitter = require('../EventEmitter/RCTNativeAppEventEmitter');\n  RCTNativeAppEventEmitter.addListener('RCTDevMenuShown', connectToDevTools);\n  connectToDevTools(); // Try connecting once on load\n}\n"],"mappings":"AAUA;;AAEA,IAAIA,OAAJ,EAAa;EACX,IAAIC,eAAe,GAAG,KAAtB;EACA,IAAIC,EAAE,GAAG,IAAT;;EAEA,IAAMC,aAAa,GAAGC,OAAO,CAAC,qBAAD,CAA7B;;EACA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;IAC9B,IAAIH,EAAE,KAAK,IAAP,IAAeD,eAAnB,EAAoC;MAKlC;IACD;;IAID,IAAI,CAACK,MAAM,CAACC,QAAZ,EAAsB;MACpB,IAAMC,QAAQ,GAAGJ,OAAO,wBAAxB;;MACA,IAAMK,YAAY,GAAGL,OAAO,2BAA5B;;MAMA,IAAMM,WAAW,GAAG,SAAdA,WAAc;QAAA,OAAMF,QAAQ,CAACG,YAAT,KAA0B,YAAhC;MAAA,CAApB;;MAGA,IAAMC,SAAS,GAAGH,YAAY,EAA9B;MACA,IAAMI,IAAI,GAAGD,SAAS,CAACE,sBAAV,GACTF,SAAS,CAACG,GAAV,CACGC,OADH,CACW,aADX,EAC0B,EAD1B,EAEGA,OAFH,CAEW,KAFX,EAEkB,EAFlB,EAGGC,KAHH,CAGS,GAHT,EAGc,CAHd,CADS,GAKT,WALJ;MASA,IAAMC,IAAI,GACRZ,MAAM,CAACa,uBAAP,IAAkC,IAAlC,GACIb,MAAM,CAACa,uBADX,GAEI,IAHN;;MAKA,IAAMC,SAAS,GAAGhB,OAAO,0BAAzB;;MACAF,EAAE,GAAG,IAAIkB,SAAJ,CAAc,UAAUP,IAAV,GAAiB,GAAjB,GAAuBK,IAArC,CAAL;MACAhB,EAAE,CAACmB,gBAAH,CAAoB,OAApB,EAA6B,UAAAC,KAAK,EAAI;QACpCrB,eAAe,GAAG,KAAlB;MACD,CAFD;MAGAC,EAAE,CAACmB,gBAAH,CAAoB,MAApB,EAA4B,UAAAC,KAAK,EAAI;QACnCrB,eAAe,GAAG,IAAlB;MACD,CAFD;;MAIA,IAAMsB,0BAA0B,GAAGnB,OAAO,iDAA1C;;MAEAD,aAAa,CAACE,iBAAd,CAAgC;QAC9BK,WAAW,EAAXA,WAD8B;QAE9Bc,cAAc,EAAEpB,OAAO,8BAFO;QAG9BqB,gCAAgC,EAAEC,MAAM,CAACC,IAAP,CAChCJ,0BADgC,CAHJ;QAM9BK,SAAS,EAAE1B;MANmB,CAAhC;IAQD;EACF,CAzDD;;EA2DA,IAAM2B,wBAAwB,GAAGzB,OAAO,4CAAxC;;EACAyB,wBAAwB,CAACC,WAAzB,CAAqC,iBAArC,EAAwDzB,iBAAxD;EACAA,iBAAiB;AAClB"},"metadata":{},"sourceType":"script"}