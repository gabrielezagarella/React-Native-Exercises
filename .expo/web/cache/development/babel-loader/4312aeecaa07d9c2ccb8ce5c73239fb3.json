{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport pack from 'react-native/package.json';\n\nvar _pack$version$split = pack.version.split('.'),\n    _pack$version$split2 = _slicedToArray(_pack$version$split, 2),\n    majorStr = _pack$version$split2[0],\n    minorStr = _pack$version$split2[1];\n\nexport var REACT_NATIVE_VERSION = {\n  major: parseInt(majorStr, 10),\n  minor: parseInt(minorStr, 10)\n};\nexport function toArray(object) {\n  if (!Array.isArray(object)) {\n    return [object];\n  }\n\n  return object;\n}\nexport function withPrevAndCurrent(array, mapFn) {\n  var previousArr = [null];\n\n  var currentArr = _toConsumableArray(array);\n\n  var transformedArr = [];\n  currentArr.forEach(function (current, i) {\n    var previous = previousArr[i];\n    var transformed = mapFn(previous, current);\n    previousArr.push(transformed);\n    transformedArr.push(transformed);\n  });\n  return transformedArr;\n}\nexport function hasProperty(object, key) {\n  return Object.prototype.hasOwnProperty.call(object, key);\n}\nexport function isJestEnv() {\n  return hasProperty(global, 'process') && !!process.env.JEST_WORKER_ID;\n}\nexport function tagMessage(msg) {\n  return \"[react-native-gesture-handler] \" + msg;\n}\nexport function isFabric() {\n  var _global;\n\n  return !!((_global = global) !== null && _global !== void 0 && _global.nativeFabricUIManager);\n}\nexport function shouldUseCodegenNativeComponent() {\n  return REACT_NATIVE_VERSION.minor >= 68 || REACT_NATIVE_VERSION.major > 0;\n}\nexport function isRemoteDebuggingEnabled() {\n  return !global.nativeCallSyncHook || global.__REMOTEDEV__;\n}","map":{"version":3,"sources":["utils.ts"],"names":["pack","REACT_NATIVE_VERSION","major","parseInt","minor","Array","previousArr","currentArr","transformedArr","previous","transformed","mapFn","Object","hasProperty","process","global"],"mappings":";;AAAA,OAAA,IAAA,MAAA,2BAAA;;AAEA,0BAA6BA,IAAI,CAAJA,OAAAA,CAAAA,KAAAA,CAA7B,GAA6BA,CAA7B;AAAA;AAAA,IAAM,QAAN;AAAA,IAAM,QAAN;;AACA,OAAO,IAAMC,oBAAoB,GAAG;EAClCC,KAAK,EAAEC,QAAQ,CAAA,QAAA,EADmB,EACnB,CADmB;EAElCC,KAAK,EAAED,QAAQ,CAAA,QAAA,EAAA,EAAA;AAFmB,CAA7B;AAKP,OAAO,SAAA,OAAA,CAAA,MAAA,EAA0C;EAC/C,IAAI,CAACE,KAAK,CAALA,OAAAA,CAAL,MAAKA,CAAL,EAA4B;IAC1B,OAAO,CAAP,MAAO,CAAP;EACD;;EAED,OAAA,MAAA;AACD;AAMD,OAAO,SAAA,kBAAA,CAAA,KAAA,EAAA,KAAA,EAGU;EACf,IAAMC,WAAmC,GAAG,CAA5C,IAA4C,CAA5C;;EACA,IAAMC,UAAU,sBAAhB,KAAgB,CAAhB;;EACA,IAAMC,cAA6B,GAAnC,EAAA;EACAD,UAAU,CAAVA,OAAAA,CAAmB,UAAA,OAAA,EAAA,CAAA,EAAgB;IACjC,IAAME,QAAQ,GAAGH,WAAW,CAA5B,CAA4B,CAA5B;IACA,IAAMI,WAAW,GAAGC,KAAK,CAAA,QAAA,EAAzB,OAAyB,CAAzB;IACAL,WAAW,CAAXA,IAAAA,CAAAA,WAAAA;IACAE,cAAc,CAAdA,IAAAA,CAAAA,WAAAA;EAJFD,CAAAA;EAMA,OAAA,cAAA;AAGF;AACA,OAAO,SAAA,WAAA,CAAA,MAAA,EAAA,GAAA,EAAkD;EACvD,OAAOK,MAAM,CAANA,SAAAA,CAAAA,cAAAA,CAAAA,IAAAA,CAAAA,MAAAA,EAAP,GAAOA,CAAP;AACD;AAED,OAAO,SAAA,SAAA,GAA8B;EAEnC,OAAOC,WAAW,CAAA,MAAA,EAAXA,SAAW,CAAXA,IAAkC,CAAC,CAACC,OAAO,CAAPA,GAAAA,CAA3C,cAAA;AACD;AAED,OAAO,SAAA,UAAA,CAAA,GAAA,EAAiC;EACtC,2CAAA,GAAA;AAGF;AAEA,OAAO,SAAA,QAAA,GAA6B;EAAA,IAAA,OAAA;;EAElC,OAAO,CAAC,EAAA,CAAA,OAAA,GAAA,MAAA,MAAA,IAAA,IAAA,OAAA,KAAA,KAAA,CAAA,IAACC,OAAAA,CAAT,qBAAQ,CAAR;AACD;AAED,OAAO,SAAA,+BAAA,GAAoD;EAEzD,OAAOd,oBAAoB,CAApBA,KAAAA,IAAAA,EAAAA,IAAoCA,oBAAoB,CAApBA,KAAAA,GAA3C,CAAA;AACD;AAED,OAAO,SAAA,wBAAA,GAA6C;EAGlD,OAAO,CAAEc,MAAD,CAAD,kBAAA,IAAwCA,MAAD,CAA9C,aAAA;AACD","sourcesContent":["import pack from 'react-native/package.json';\n\nconst [majorStr, minorStr] = pack.version.split('.');\nexport const REACT_NATIVE_VERSION = {\n  major: parseInt(majorStr, 10),\n  minor: parseInt(minorStr, 10),\n};\n\nexport function toArray<T>(object: T | T[]): T[] {\n  if (!Array.isArray(object)) {\n    return [object];\n  }\n\n  return object;\n}\n\nexport type withPrevAndCurrentMapFn<T, Transformed> = (\n  previous: Transformed | null,\n  current: T\n) => Transformed;\nexport function withPrevAndCurrent<T, Transformed>(\n  array: T[],\n  mapFn: withPrevAndCurrentMapFn<T, Transformed>\n): Transformed[] {\n  const previousArr: (null | Transformed)[] = [null];\n  const currentArr = [...array];\n  const transformedArr: Transformed[] = [];\n  currentArr.forEach((current, i) => {\n    const previous = previousArr[i];\n    const transformed = mapFn(previous, current);\n    previousArr.push(transformed);\n    transformedArr.push(transformed);\n  });\n  return transformedArr;\n}\n\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function hasProperty(object: object, key: string) {\n  return Object.prototype.hasOwnProperty.call(object, key);\n}\n\nexport function isJestEnv(): boolean {\n  // @ts-ignore Do not use `@types/node` because it will prioritise Node types over RN types which breaks the types (ex. setTimeout) in React Native projects.\n  return hasProperty(global, 'process') && !!process.env.JEST_WORKER_ID;\n}\n\nexport function tagMessage(msg: string) {\n  return `[react-native-gesture-handler] ${msg}`;\n}\n\n// helper method to check whether Fabric is enabled, however global.nativeFabricUIManager\n// may not be initialized before the first render\nexport function isFabric(): boolean {\n  // @ts-expect-error nativeFabricUIManager is not yet included in the RN types\n  return !!global?.nativeFabricUIManager;\n}\n\nexport function shouldUseCodegenNativeComponent(): boolean {\n  // use codegenNativeComponent starting with RN 0.68\n  return REACT_NATIVE_VERSION.minor >= 68 || REACT_NATIVE_VERSION.major > 0;\n}\n\nexport function isRemoteDebuggingEnabled(): boolean {\n  // react-native-reanimated checks if in remote debugging in the same way\n  // @ts-ignore global is available but node types are not included\n  return !(global as any).nativeCallSyncHook || (global as any).__REMOTEDEV__;\n}\n"]},"metadata":{},"sourceType":"module"}