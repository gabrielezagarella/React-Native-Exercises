{"ast":null,"code":"import Text from \"../../Text/Text\";\nimport * as React from 'react';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\n\nvar cleanContent = function cleanContent(content) {\n  return content.replace(/^(TransformError |Warning: (Warning: )?|Error: )/g, '');\n};\n\nfunction LogBoxMessage(props) {\n  var _props$message = props.message,\n      content = _props$message.content,\n      substitutions = _props$message.substitutions;\n\n  if (props.plaintext === true) {\n    return _jsx(Text, {\n      children: cleanContent(content)\n    });\n  }\n\n  var maxLength = props.maxLength != null ? props.maxLength : Infinity;\n  var substitutionStyle = props.style;\n  var elements = [];\n  var length = 0;\n\n  var createUnderLength = function createUnderLength(key, message, style) {\n    var cleanMessage = cleanContent(message);\n\n    if (props.maxLength != null) {\n      cleanMessage = cleanMessage.slice(0, props.maxLength - length);\n    }\n\n    if (length < maxLength) {\n      elements.push(_jsx(Text, {\n        style: style,\n        children: cleanMessage\n      }, key));\n    }\n\n    length += cleanMessage.length;\n  };\n\n  var lastOffset = substitutions.reduce(function (prevOffset, substitution, index) {\n    var key = String(index);\n\n    if (substitution.offset > prevOffset) {\n      var prevPart = content.substr(prevOffset, substitution.offset - prevOffset);\n      createUnderLength(key, prevPart);\n    }\n\n    var substititionPart = content.substr(substitution.offset, substitution.length);\n    createUnderLength(key + '.5', substititionPart, substitutionStyle);\n    return substitution.offset + substitution.length;\n  }, 0);\n\n  if (lastOffset < content.length) {\n    var lastPart = content.substr(lastOffset);\n    createUnderLength('-1', lastPart);\n  }\n\n  return _jsx(_Fragment, {\n    children: elements\n  });\n}\n\nexport default LogBoxMessage;","map":{"version":3,"names":["Text","React","cleanContent","content","replace","LogBoxMessage","props","message","substitutions","plaintext","maxLength","Infinity","substitutionStyle","style","elements","length","createUnderLength","key","cleanMessage","slice","push","lastOffset","reduce","prevOffset","substitution","index","String","offset","prevPart","substr","substititionPart","lastPart"],"sources":["/Users/zagarellagabriele/Desktop/Progetti/React Native/React-Native-Exercises/node_modules/react-native/Libraries/LogBox/UI/LogBoxMessage.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow strict-local\n * @format\n */\n\nimport type {TextStyleProp} from '../../StyleSheet/StyleSheet';\nimport type {Message} from '../Data/parseLogBoxLog';\n\nimport Text from '../../Text/Text';\nimport * as React from 'react';\n\ntype Props = {\n  message: Message,\n  style: TextStyleProp,\n  plaintext?: ?boolean,\n  maxLength?: ?number,\n  ...\n};\n\nconst cleanContent = (content: string) =>\n  content.replace(/^(TransformError |Warning: (Warning: )?|Error: )/g, '');\n\nfunction LogBoxMessage(props: Props): React.Node {\n  const {content, substitutions}: Message = props.message;\n\n  if (props.plaintext === true) {\n    return <Text>{cleanContent(content)}</Text>;\n  }\n\n  const maxLength = props.maxLength != null ? props.maxLength : Infinity;\n  const substitutionStyle: TextStyleProp = props.style;\n  const elements = [];\n  let length = 0;\n  const createUnderLength = (\n    key: string | $TEMPORARY$string<'-1'>,\n    message: string,\n    style: void | TextStyleProp,\n  ) => {\n    let cleanMessage = cleanContent(message);\n\n    if (props.maxLength != null) {\n      cleanMessage = cleanMessage.slice(0, props.maxLength - length);\n    }\n\n    if (length < maxLength) {\n      elements.push(\n        <Text key={key} style={style}>\n          {cleanMessage}\n        </Text>,\n      );\n    }\n\n    length += cleanMessage.length;\n  };\n\n  const lastOffset = substitutions.reduce((prevOffset, substitution, index) => {\n    const key = String(index);\n\n    if (substitution.offset > prevOffset) {\n      const prevPart = content.substr(\n        prevOffset,\n        substitution.offset - prevOffset,\n      );\n\n      createUnderLength(key, prevPart);\n    }\n\n    const substititionPart = content.substr(\n      substitution.offset,\n      substitution.length,\n    );\n\n    createUnderLength(key + '.5', substititionPart, substitutionStyle);\n    return substitution.offset + substitution.length;\n  }, 0);\n\n  if (lastOffset < content.length) {\n    const lastPart = content.substr(lastOffset);\n    createUnderLength('-1', lastPart);\n  }\n\n  return <>{elements}</>;\n}\n\nexport default LogBoxMessage;\n"],"mappings":"AAaA,OAAOA,IAAP;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;;;;AAUA,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,OAAD;EAAA,OACnBA,OAAO,CAACC,OAAR,CAAgB,mDAAhB,EAAqE,EAArE,CADmB;AAAA,CAArB;;AAGA,SAASC,aAAT,CAAuBC,KAAvB,EAAiD;EAC/C,qBAA0CA,KAAK,CAACC,OAAhD;EAAA,IAAOJ,OAAP,kBAAOA,OAAP;EAAA,IAAgBK,aAAhB,kBAAgBA,aAAhB;;EAEA,IAAIF,KAAK,CAACG,SAAN,KAAoB,IAAxB,EAA8B;IAC5B,OAAO,KAAC,IAAD;MAAA,UAAOP,YAAY,CAACC,OAAD;IAAnB,EAAP;EACD;;EAED,IAAMO,SAAS,GAAGJ,KAAK,CAACI,SAAN,IAAmB,IAAnB,GAA0BJ,KAAK,CAACI,SAAhC,GAA4CC,QAA9D;EACA,IAAMC,iBAAgC,GAAGN,KAAK,CAACO,KAA/C;EACA,IAAMC,QAAQ,GAAG,EAAjB;EACA,IAAIC,MAAM,GAAG,CAAb;;EACA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CACxBC,GADwB,EAExBV,OAFwB,EAGxBM,KAHwB,EAIrB;IACH,IAAIK,YAAY,GAAGhB,YAAY,CAACK,OAAD,CAA/B;;IAEA,IAAID,KAAK,CAACI,SAAN,IAAmB,IAAvB,EAA6B;MAC3BQ,YAAY,GAAGA,YAAY,CAACC,KAAb,CAAmB,CAAnB,EAAsBb,KAAK,CAACI,SAAN,GAAkBK,MAAxC,CAAf;IACD;;IAED,IAAIA,MAAM,GAAGL,SAAb,EAAwB;MACtBI,QAAQ,CAACM,IAAT,CACE,KAAC,IAAD;QAAgB,KAAK,EAAEP,KAAvB;QAAA,UACGK;MADH,GAAWD,GAAX,CADF;IAKD;;IAEDF,MAAM,IAAIG,YAAY,CAACH,MAAvB;EACD,CApBD;;EAsBA,IAAMM,UAAU,GAAGb,aAAa,CAACc,MAAd,CAAqB,UAACC,UAAD,EAAaC,YAAb,EAA2BC,KAA3B,EAAqC;IAC3E,IAAMR,GAAG,GAAGS,MAAM,CAACD,KAAD,CAAlB;;IAEA,IAAID,YAAY,CAACG,MAAb,GAAsBJ,UAA1B,EAAsC;MACpC,IAAMK,QAAQ,GAAGzB,OAAO,CAAC0B,MAAR,CACfN,UADe,EAEfC,YAAY,CAACG,MAAb,GAAsBJ,UAFP,CAAjB;MAKAP,iBAAiB,CAACC,GAAD,EAAMW,QAAN,CAAjB;IACD;;IAED,IAAME,gBAAgB,GAAG3B,OAAO,CAAC0B,MAAR,CACvBL,YAAY,CAACG,MADU,EAEvBH,YAAY,CAACT,MAFU,CAAzB;IAKAC,iBAAiB,CAACC,GAAG,GAAG,IAAP,EAAaa,gBAAb,EAA+BlB,iBAA/B,CAAjB;IACA,OAAOY,YAAY,CAACG,MAAb,GAAsBH,YAAY,CAACT,MAA1C;EACD,CAnBkB,EAmBhB,CAnBgB,CAAnB;;EAqBA,IAAIM,UAAU,GAAGlB,OAAO,CAACY,MAAzB,EAAiC;IAC/B,IAAMgB,QAAQ,GAAG5B,OAAO,CAAC0B,MAAR,CAAeR,UAAf,CAAjB;IACAL,iBAAiB,CAAC,IAAD,EAAOe,QAAP,CAAjB;EACD;;EAED,OAAO;IAAA,UAAGjB;EAAH,EAAP;AACD;;AAED,eAAeT,aAAf"},"metadata":{},"sourceType":"module"}