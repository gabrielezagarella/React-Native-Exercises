{"ast":null,"code":"'use strict';\n\nfunction noop() {}\n\nvar LAST_ERROR = null;\nvar IS_ERROR = {};\n\nfunction getThen(obj) {\n  try {\n    return obj.then;\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nfunction tryCallOne(fn, a) {\n  try {\n    return fn(a);\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nfunction tryCallTwo(fn, a, b) {\n  try {\n    fn(a, b);\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nmodule.exports = Promise;\n\nfunction Promise(fn) {\n  if (typeof this !== 'object') {\n    throw new TypeError('Promises must be constructed via new');\n  }\n\n  if (typeof fn !== 'function') {\n    throw new TypeError('Promise constructor\\'s argument is not a function');\n  }\n\n  this._x = 0;\n  this._y = 0;\n  this._z = null;\n  this._A = null;\n  if (fn === noop) return;\n  doResolve(fn, this);\n}\n\nPromise._B = null;\nPromise._C = null;\nPromise._D = noop;\n\nPromise.prototype.then = function (onFulfilled, onRejected) {\n  if (this.constructor !== Promise) {\n    return safeThen(this, onFulfilled, onRejected);\n  }\n\n  var res = new Promise(noop);\n  handle(this, new Handler(onFulfilled, onRejected, res));\n  return res;\n};\n\nfunction safeThen(self, onFulfilled, onRejected) {\n  return new self.constructor(function (resolve, reject) {\n    var res = new Promise(noop);\n    res.then(resolve, reject);\n    handle(self, new Handler(onFulfilled, onRejected, res));\n  });\n}\n\nfunction handle(self, deferred) {\n  while (self._y === 3) {\n    self = self._z;\n  }\n\n  if (Promise._B) {\n    Promise._B(self);\n  }\n\n  if (self._y === 0) {\n    if (self._x === 0) {\n      self._x = 1;\n      self._A = deferred;\n      return;\n    }\n\n    if (self._x === 1) {\n      self._x = 2;\n      self._A = [self._A, deferred];\n      return;\n    }\n\n    self._A.push(deferred);\n\n    return;\n  }\n\n  handleResolved(self, deferred);\n}\n\nfunction handleResolved(self, deferred) {\n  setImmediate(function () {\n    var cb = self._y === 1 ? deferred.onFulfilled : deferred.onRejected;\n\n    if (cb === null) {\n      if (self._y === 1) {\n        resolve(deferred.promise, self._z);\n      } else {\n        reject(deferred.promise, self._z);\n      }\n\n      return;\n    }\n\n    var ret = tryCallOne(cb, self._z);\n\n    if (ret === IS_ERROR) {\n      reject(deferred.promise, LAST_ERROR);\n    } else {\n      resolve(deferred.promise, ret);\n    }\n  });\n}\n\nfunction resolve(self, newValue) {\n  if (newValue === self) {\n    return reject(self, new TypeError('A promise cannot be resolved with itself.'));\n  }\n\n  if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n    var then = getThen(newValue);\n\n    if (then === IS_ERROR) {\n      return reject(self, LAST_ERROR);\n    }\n\n    if (then === self.then && newValue instanceof Promise) {\n      self._y = 3;\n      self._z = newValue;\n      finale(self);\n      return;\n    } else if (typeof then === 'function') {\n      doResolve(then.bind(newValue), self);\n      return;\n    }\n  }\n\n  self._y = 1;\n  self._z = newValue;\n  finale(self);\n}\n\nfunction reject(self, newValue) {\n  self._y = 2;\n  self._z = newValue;\n\n  if (Promise._C) {\n    Promise._C(self, newValue);\n  }\n\n  finale(self);\n}\n\nfunction finale(self) {\n  if (self._x === 1) {\n    handle(self, self._A);\n    self._A = null;\n  }\n\n  if (self._x === 2) {\n    for (var i = 0; i < self._A.length; i++) {\n      handle(self, self._A[i]);\n    }\n\n    self._A = null;\n  }\n}\n\nfunction Handler(onFulfilled, onRejected, promise) {\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\nfunction doResolve(fn, promise) {\n  var done = false;\n  var res = tryCallTwo(fn, function (value) {\n    if (done) return;\n    done = true;\n    resolve(promise, value);\n  }, function (reason) {\n    if (done) return;\n    done = true;\n    reject(promise, reason);\n  });\n\n  if (!done && res === IS_ERROR) {\n    done = true;\n    reject(promise, LAST_ERROR);\n  }\n}","map":{"version":3,"names":["noop","LAST_ERROR","IS_ERROR","getThen","obj","then","ex","tryCallOne","fn","a","tryCallTwo","b","module","exports","Promise","TypeError","_x","_y","_z","_A","doResolve","_B","_C","_D","prototype","onFulfilled","onRejected","constructor","safeThen","res","handle","Handler","self","resolve","reject","deferred","push","handleResolved","setImmediate","cb","promise","ret","newValue","finale","bind","i","length","done","value","reason"],"sources":["/Users/zagarellagabriele/Desktop/Progetti/React Native/React-Native-Exercises/node_modules/react-native/node_modules/promise/setimmediate/core.js"],"sourcesContent":["'use strict';\n\n\n\nfunction noop() {}\n\n// States:\n//\n// 0 - pending\n// 1 - fulfilled with _value\n// 2 - rejected with _value\n// 3 - adopted the state of another promise, _value\n//\n// once the state is no longer pending (0) it is immutable\n\n// All `_` prefixed properties will be reduced to `_{random number}`\n// at build time to obfuscate them and discourage their use.\n// We don't use symbols or Object.defineProperty to fully hide them\n// because the performance isn't good enough.\n\n\n// to avoid using try/catch inside critical functions, we\n// extract them to here.\nvar LAST_ERROR = null;\nvar IS_ERROR = {};\nfunction getThen(obj) {\n  try {\n    return obj.then;\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nfunction tryCallOne(fn, a) {\n  try {\n    return fn(a);\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\nfunction tryCallTwo(fn, a, b) {\n  try {\n    fn(a, b);\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nmodule.exports = Promise;\n\nfunction Promise(fn) {\n  if (typeof this !== 'object') {\n    throw new TypeError('Promises must be constructed via new');\n  }\n  if (typeof fn !== 'function') {\n    throw new TypeError('Promise constructor\\'s argument is not a function');\n  }\n  this._x = 0;\n  this._y = 0;\n  this._z = null;\n  this._A = null;\n  if (fn === noop) return;\n  doResolve(fn, this);\n}\nPromise._B = null;\nPromise._C = null;\nPromise._D = noop;\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  if (this.constructor !== Promise) {\n    return safeThen(this, onFulfilled, onRejected);\n  }\n  var res = new Promise(noop);\n  handle(this, new Handler(onFulfilled, onRejected, res));\n  return res;\n};\n\nfunction safeThen(self, onFulfilled, onRejected) {\n  return new self.constructor(function (resolve, reject) {\n    var res = new Promise(noop);\n    res.then(resolve, reject);\n    handle(self, new Handler(onFulfilled, onRejected, res));\n  });\n}\nfunction handle(self, deferred) {\n  while (self._y === 3) {\n    self = self._z;\n  }\n  if (Promise._B) {\n    Promise._B(self);\n  }\n  if (self._y === 0) {\n    if (self._x === 0) {\n      self._x = 1;\n      self._A = deferred;\n      return;\n    }\n    if (self._x === 1) {\n      self._x = 2;\n      self._A = [self._A, deferred];\n      return;\n    }\n    self._A.push(deferred);\n    return;\n  }\n  handleResolved(self, deferred);\n}\n\nfunction handleResolved(self, deferred) {\n  setImmediate(function() {\n    var cb = self._y === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      if (self._y === 1) {\n        resolve(deferred.promise, self._z);\n      } else {\n        reject(deferred.promise, self._z);\n      }\n      return;\n    }\n    var ret = tryCallOne(cb, self._z);\n    if (ret === IS_ERROR) {\n      reject(deferred.promise, LAST_ERROR);\n    } else {\n      resolve(deferred.promise, ret);\n    }\n  });\n}\nfunction resolve(self, newValue) {\n  // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n  if (newValue === self) {\n    return reject(\n      self,\n      new TypeError('A promise cannot be resolved with itself.')\n    );\n  }\n  if (\n    newValue &&\n    (typeof newValue === 'object' || typeof newValue === 'function')\n  ) {\n    var then = getThen(newValue);\n    if (then === IS_ERROR) {\n      return reject(self, LAST_ERROR);\n    }\n    if (\n      then === self.then &&\n      newValue instanceof Promise\n    ) {\n      self._y = 3;\n      self._z = newValue;\n      finale(self);\n      return;\n    } else if (typeof then === 'function') {\n      doResolve(then.bind(newValue), self);\n      return;\n    }\n  }\n  self._y = 1;\n  self._z = newValue;\n  finale(self);\n}\n\nfunction reject(self, newValue) {\n  self._y = 2;\n  self._z = newValue;\n  if (Promise._C) {\n    Promise._C(self, newValue);\n  }\n  finale(self);\n}\nfunction finale(self) {\n  if (self._x === 1) {\n    handle(self, self._A);\n    self._A = null;\n  }\n  if (self._x === 2) {\n    for (var i = 0; i < self._A.length; i++) {\n      handle(self, self._A[i]);\n    }\n    self._A = null;\n  }\n}\n\nfunction Handler(onFulfilled, onRejected, promise){\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, promise) {\n  var done = false;\n  var res = tryCallTwo(fn, function (value) {\n    if (done) return;\n    done = true;\n    resolve(promise, value);\n  }, function (reason) {\n    if (done) return;\n    done = true;\n    reject(promise, reason);\n  });\n  if (!done && res === IS_ERROR) {\n    done = true;\n    reject(promise, LAST_ERROR);\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}