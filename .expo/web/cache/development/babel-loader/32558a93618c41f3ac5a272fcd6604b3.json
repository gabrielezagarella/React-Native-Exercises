{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport NativeEventEmitter from \"../../EventEmitter/NativeEventEmitter\";\nimport LayoutAnimation from \"../../LayoutAnimation/LayoutAnimation\";\nimport dismissKeyboard from \"../../Utilities/dismissKeyboard\";\nimport Platform from \"../../Utilities/Platform\";\nimport NativeKeyboardObserver from \"./NativeKeyboardObserver\";\n\nvar Keyboard = function () {\n  function Keyboard() {\n    var _this = this;\n\n    _classCallCheck(this, Keyboard);\n\n    this._emitter = new NativeEventEmitter(Platform.OS !== 'ios' ? null : NativeKeyboardObserver);\n    this.addListener('keyboardDidShow', function (ev) {\n      _this._currentlyShowing = ev;\n    });\n    this.addListener('keyboardDidHide', function (_ev) {\n      _this._currentlyShowing = null;\n    });\n  }\n\n  _createClass(Keyboard, [{\n    key: \"addListener\",\n    value: function addListener(eventType, listener, context) {\n      return this._emitter.addListener(eventType, listener);\n    }\n  }, {\n    key: \"removeAllListeners\",\n    value: function removeAllListeners(eventType) {\n      this._emitter.removeAllListeners(eventType);\n    }\n  }, {\n    key: \"dismiss\",\n    value: function dismiss() {\n      dismissKeyboard();\n    }\n  }, {\n    key: \"isVisible\",\n    value: function isVisible() {\n      return !!this._currentlyShowing;\n    }\n  }, {\n    key: \"metrics\",\n    value: function metrics() {\n      var _this$_currentlyShowi;\n\n      return (_this$_currentlyShowi = this._currentlyShowing) == null ? void 0 : _this$_currentlyShowi.endCoordinates;\n    }\n  }, {\n    key: \"scheduleLayoutAnimation\",\n    value: function scheduleLayoutAnimation(event) {\n      var duration = event.duration,\n          easing = event.easing;\n\n      if (duration != null && duration !== 0) {\n        LayoutAnimation.configureNext({\n          duration: duration,\n          update: {\n            duration: duration,\n            type: easing != null && LayoutAnimation.Types[easing] || 'keyboard'\n          }\n        });\n      }\n    }\n  }]);\n\n  return Keyboard;\n}();\n\nmodule.exports = new Keyboard();","map":{"version":3,"names":["NativeEventEmitter","LayoutAnimation","dismissKeyboard","Platform","NativeKeyboardObserver","Keyboard","_emitter","OS","addListener","ev","_currentlyShowing","_ev","eventType","listener","context","removeAllListeners","endCoordinates","event","duration","easing","configureNext","update","type","Types","module","exports"],"sources":["/Users/zagarellagabriele/Desktop/Progetti/React Native/React-Native-Exercises/node_modules/react-native/Libraries/Components/Keyboard/Keyboard.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * @flow strict-local\n */\n\nimport type {EventSubscription} from '../../vendor/emitter/EventEmitter';\n\nimport NativeEventEmitter from '../../EventEmitter/NativeEventEmitter';\nimport LayoutAnimation from '../../LayoutAnimation/LayoutAnimation';\nimport dismissKeyboard from '../../Utilities/dismissKeyboard';\nimport Platform from '../../Utilities/Platform';\nimport NativeKeyboardObserver from './NativeKeyboardObserver';\n\nexport type KeyboardEventName = $Keys<KeyboardEventDefinitions>;\n\nexport type KeyboardEventEasing =\n  | 'easeIn'\n  | 'easeInEaseOut'\n  | 'easeOut'\n  | 'linear'\n  | 'keyboard';\n\nexport type KeyboardMetrics = $ReadOnly<{|\n  screenX: number,\n  screenY: number,\n  width: number,\n  height: number,\n|}>;\n\nexport type KeyboardEvent = AndroidKeyboardEvent | IOSKeyboardEvent;\n\ntype BaseKeyboardEvent = {|\n  duration: number,\n  easing: KeyboardEventEasing,\n  endCoordinates: KeyboardMetrics,\n|};\n\nexport type AndroidKeyboardEvent = $ReadOnly<{|\n  ...BaseKeyboardEvent,\n  duration: 0,\n  easing: 'keyboard',\n|}>;\n\nexport type IOSKeyboardEvent = $ReadOnly<{|\n  ...BaseKeyboardEvent,\n  startCoordinates: KeyboardMetrics,\n  isEventFromThisApp: boolean,\n|}>;\n\ntype KeyboardEventDefinitions = {\n  keyboardWillShow: [KeyboardEvent],\n  keyboardDidShow: [KeyboardEvent],\n  keyboardWillHide: [KeyboardEvent],\n  keyboardDidHide: [KeyboardEvent],\n  keyboardWillChangeFrame: [KeyboardEvent],\n  keyboardDidChangeFrame: [KeyboardEvent],\n};\n\n/**\n * `Keyboard` module to control keyboard events.\n *\n * ### Usage\n *\n * The Keyboard module allows you to listen for native events and react to them, as\n * well as make changes to the keyboard, like dismissing it.\n *\n *```\n * import React, { Component } from 'react';\n * import { Keyboard, TextInput } from 'react-native';\n *\n * class Example extends Component {\n *   componentWillMount () {\n *     this.keyboardDidShowListener = Keyboard.addListener('keyboardDidShow', this._keyboardDidShow);\n *     this.keyboardDidHideListener = Keyboard.addListener('keyboardDidHide', this._keyboardDidHide);\n *   }\n *\n *   componentWillUnmount () {\n *     this.keyboardDidShowListener.remove();\n *     this.keyboardDidHideListener.remove();\n *   }\n *\n *   _keyboardDidShow () {\n *     alert('Keyboard Shown');\n *   }\n *\n *   _keyboardDidHide () {\n *     alert('Keyboard Hidden');\n *   }\n *\n *   render() {\n *     return (\n *       <TextInput\n *         onSubmitEditing={Keyboard.dismiss}\n *       />\n *     );\n *   }\n * }\n *```\n */\n\nclass Keyboard {\n  _currentlyShowing: ?KeyboardEvent;\n\n  _emitter: NativeEventEmitter<KeyboardEventDefinitions> =\n    new NativeEventEmitter(\n      // T88715063: NativeEventEmitter only used this parameter on iOS. Now it uses it on all platforms, so this code was modified automatically to preserve its behavior\n      // If you want to use the native module on other platforms, please remove this condition and test its behavior\n      Platform.OS !== 'ios' ? null : NativeKeyboardObserver,\n    );\n\n  constructor() {\n    this.addListener('keyboardDidShow', ev => {\n      this._currentlyShowing = ev;\n    });\n    this.addListener('keyboardDidHide', _ev => {\n      this._currentlyShowing = null;\n    });\n  }\n\n  /**\n   * The `addListener` function connects a JavaScript function to an identified native\n   * keyboard notification event.\n   *\n   * This function then returns the reference to the listener.\n   *\n   * @param {string} eventName The `nativeEvent` is the string that identifies the event you're listening for.  This\n   *can be any of the following:\n   *\n   * - `keyboardWillShow`\n   * - `keyboardDidShow`\n   * - `keyboardWillHide`\n   * - `keyboardDidHide`\n   * - `keyboardWillChangeFrame`\n   * - `keyboardDidChangeFrame`\n   *\n   * Android versions prior to API 30 rely on observing layout changes when\n   * `android:windowSoftInputMode` is set to `adjustResize` or `adjustPan`.\n   *\n   * `keyboardWillShow` as well as `keyboardWillHide` are not available on Android since there is\n   * no native corresponding event.\n   *\n   * @param {function} callback function to be called when the event fires.\n   */\n  addListener<K: $Keys<KeyboardEventDefinitions>>(\n    eventType: K,\n    listener: (...$ElementType<KeyboardEventDefinitions, K>) => mixed,\n    context?: mixed,\n  ): EventSubscription {\n    return this._emitter.addListener(eventType, listener);\n  }\n\n  /**\n   * Removes all listeners for a specific event type.\n   *\n   * @param {string} eventType The native event string listeners are watching which will be removed.\n   */\n  removeAllListeners<K: $Keys<KeyboardEventDefinitions>>(eventType: ?K): void {\n    this._emitter.removeAllListeners(eventType);\n  }\n\n  /**\n   * Dismisses the active keyboard and removes focus.\n   */\n  dismiss(): void {\n    dismissKeyboard();\n  }\n\n  /**\n   * Whether the keyboard is last known to be visible.\n   */\n  isVisible(): boolean {\n    return !!this._currentlyShowing;\n  }\n\n  /**\n   * Return the metrics of the soft-keyboard if visible.\n   */\n  metrics(): ?KeyboardMetrics {\n    return this._currentlyShowing?.endCoordinates;\n  }\n\n  /**\n   * Useful for syncing TextInput (or other keyboard accessory view) size of\n   * position changes with keyboard movements.\n   */\n  scheduleLayoutAnimation(event: KeyboardEvent): void {\n    const {duration, easing} = event;\n    if (duration != null && duration !== 0) {\n      LayoutAnimation.configureNext({\n        duration: duration,\n        update: {\n          duration: duration,\n          type: (easing != null && LayoutAnimation.Types[easing]) || 'keyboard',\n        },\n      });\n    }\n  }\n}\n\nmodule.exports = (new Keyboard(): Keyboard);\n"],"mappings":";;AAYA,OAAOA,kBAAP;AACA,OAAOC,eAAP;AACA,OAAOC,eAAP;AACA,OAAOC,QAAP;AACA,OAAOC,sBAAP;;IAyFMC,Q;EAUJ,oBAAc;IAAA;;IAAA;;IAAA,KAPdC,QAOc,GANZ,IAAIN,kBAAJ,CAGEG,QAAQ,CAACI,EAAT,KAAgB,KAAhB,GAAwB,IAAxB,GAA+BH,sBAHjC,CAMY;IACZ,KAAKI,WAAL,CAAiB,iBAAjB,EAAoC,UAAAC,EAAE,EAAI;MACxC,KAAI,CAACC,iBAAL,GAAyBD,EAAzB;IACD,CAFD;IAGA,KAAKD,WAAL,CAAiB,iBAAjB,EAAoC,UAAAG,GAAG,EAAI;MACzC,KAAI,CAACD,iBAAL,GAAyB,IAAzB;IACD,CAFD;EAGD;;;;WA0BD,qBACEE,SADF,EAEEC,QAFF,EAGEC,OAHF,EAIqB;MACnB,OAAO,KAAKR,QAAL,CAAcE,WAAd,CAA0BI,SAA1B,EAAqCC,QAArC,CAAP;IACD;;;WAOD,4BAAuDD,SAAvD,EAA4E;MAC1E,KAAKN,QAAL,CAAcS,kBAAd,CAAiCH,SAAjC;IACD;;;WAKD,mBAAgB;MACdV,eAAe;IAChB;;;WAKD,qBAAqB;MACnB,OAAO,CAAC,CAAC,KAAKQ,iBAAd;IACD;;;WAKD,mBAA4B;MAAA;;MAC1B,gCAAO,KAAKA,iBAAZ,qBAAO,sBAAwBM,cAA/B;IACD;;;WAMD,iCAAwBC,KAAxB,EAAoD;MAClD,IAAOC,QAAP,GAA2BD,KAA3B,CAAOC,QAAP;MAAA,IAAiBC,MAAjB,GAA2BF,KAA3B,CAAiBE,MAAjB;;MACA,IAAID,QAAQ,IAAI,IAAZ,IAAoBA,QAAQ,KAAK,CAArC,EAAwC;QACtCjB,eAAe,CAACmB,aAAhB,CAA8B;UAC5BF,QAAQ,EAAEA,QADkB;UAE5BG,MAAM,EAAE;YACNH,QAAQ,EAAEA,QADJ;YAENI,IAAI,EAAGH,MAAM,IAAI,IAAV,IAAkBlB,eAAe,CAACsB,KAAhB,CAAsBJ,MAAtB,CAAnB,IAAqD;UAFrD;QAFoB,CAA9B;MAOD;IACF;;;;;;AAGHK,MAAM,CAACC,OAAP,GAAkB,IAAIpB,QAAJ,EAAlB"},"metadata":{},"sourceType":"module"}